{% set slurm = salt['grains.filter_by'](

  {
    'RedHat': {
      'control_machine': 'localhost',
      'use_cgroup': False,
      'server': 'slurmctld',
      'server_bin': '/usr/sbin/slurmctld',
      'scontrol': '/usr/bin/scontrol',
      'slurmd': 'slurmd',
      'slurmd_bin': '/usr/sbin/slurmd',
      'config': 'slurm.conf',
      'env': '/etc/default/slurmd',
      'etcdir':'/etc/slurm',
      'plugindir': '/usr/lib64/slurm',
      'logdir': '/var/log/slurm',
      'rundir': '/var/run',
      'slurmddir': '/var/spool/slurm/d',
      'slurmchekpointdir': '/var/slurm/checkpoint',
      'slurmctlddir': '/var/spool/slurm/ctld',
      'slurmd': 'slurmd',
      'slurmctld': 'slurmctld',
      'slurmdbd': 'slurmdbd',
      'slurm_version': '20.11.6',
      'munge_version': '0.5.12',
      'pkgSlurm':'slurm',
      'pkgSlurmNode':'slurmd',
      'pkgSlurmServer': 'slurm-slurmctld',
      'pkgSlurmMunge':'slurm-munge',
      'pkgSlurmPlugins':'slurm-plugins',
      'pkgSlurmPam':'slurm-pam_slurm',
      'pkgSlurmDevel':'slurm-devel',
      'pkgSlurmDBD': 'slurm-slurmdbd',
      'pkgSlurmSQL': 'slurm-sql',
      'pkgMunge': 'munge',
      'pkgMySQLpython':'MySQL-python',
      'pkgMungeLibs':'munge-libs',
      'pkgMysqlSever':'mariadb-server',
      'srvMysqlSever':'mariadb',
      'NodeName': 'compute[0-8] CPUs=4 RealMemory=3500 TmpDisk=8192 State=UNKNOWN',
      'PartitionName': 'compute Nodes=compute[0-8] Default=YES MaxTime=INFINITE State=UP',
    },
    'Debian': {
      'control_machine': 'localhost',
      'use_cgroup': True,
      'server': 'slurmctld',
      'server_bin': '/usr/sbin/slurmctld',
      'scontrol': '/usr/bin/scontrol',
      'slurmd': 'slurmd',
      'slurmd_bin': '/usr/sbin/slurmd',
      'etcdir': '/etc/slurm-llnl',
      'config': 'slurm.conf',
      'env': '/etc/default/slurmd',
      'plugindir': '/usr/lib/x86_64-linux-gnu/slurm',
      'logdir': '/var/log/slurm-llnl',
      'rundir': '/var/run/slurm-llnl',
      'slurmddir': '/var/lib/slurm-llnl/slurmd',
      'slurmchekpointdir': '/var/lib/slurm-llnl/checkpoint',
      'slurmctlddir': '/var/lib/slurm-llnl/slurmctld',
      'slurmd': 'slurmd',
      'slurmctld': 'slurmctld',
      'slurmdbd': 'slurmdbd',
      'slurm_version': '18.08.5.2',
      'munge_version': '0.5.12',
      'pkgSlurm':'slurm-client',
      'pkgSlurmNode':'slurmd',
      'pkgSlurmServer': 'slurmctld',
      'pkgSlurmMunge':'munge',
      'pkgSlurmPlugins':'slurm-wlm-basic-plugins',
      'pkgSlurmPam':'slurm-pam_slurm',
      'pkgSlurmDevel':'slurm-devel',
      'pkgSlurmDBD': 'slurmdbd',
      'pkgMunge':'munge',
      'pkgMySQLpython': 'python-mysqldb',
      'pkgMungeLibs':'munge-libs',
      'pkgMysqlSever':'mariadb-server',
      'srvMysqlSever':'mariadb',
      'NodeName': 'compute[0-8] CPUs=4 RealMemory=3500 TmpDisk=8192 State=UNKNOWN',
      'PartitionName': 'compute Nodes=compute[0-8] Default=YES MaxTime=INFINITE State=UP',
    },
  },merge=salt['pillar.get']('slurm:lookup'))

%}

